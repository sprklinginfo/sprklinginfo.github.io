<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta charset="utf-8"/>
    <title>    API Documentation &raquo; \FedoraApiM
</title>
    <meta name="author" content=""/>
    <meta name="description" content=""/>

            <link href="../css/template.css" rel="stylesheet" media="all"/>
    
            <!--[if lt IE 9]>
        <script src="https://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
        <![endif]-->
        <script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script>
        <script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script>
        <script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script>
        <script src="../js/bootstrap.js" type="text/javascript"></script>
        <script src="../js/template.js" type="text/javascript"></script>
        <script src="../js/prettify/prettify.min.js" type="text/javascript"></script>
    
            <link rel="shortcut icon" href="../img/favicon.ico"/>
        <link rel="apple-touch-icon" href="../img/apple-touch-icon.png"/>
        <link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png"/>
        <link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png"/>
    </head>
<body>

        <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span> <span class="icon-bar"></span>
                    <span class="icon-bar"></span> </a>
                <a class="brand" href="../index.html">API Documentation</a>

                <div class="nav-collapse">
                    <ul class="nav">
                        <li class="dropdown">
                            <a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                API Documentation <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu">
                                                                                            </ul>
                        </li>
                        <li class="dropdown" id="charts-menu">
                            <a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                Charts <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="../graph_class.html">
                                        <i class="icon-list-alt"></i>&#160;Class hierarchy diagram
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="dropdown" id="reports-menu">
                            <a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                Reports <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="../errors.html">
                                        <i class="icon-list-alt"></i>&#160;Errors
                                    </a>
                                </li>
                                <li>
                                    <a href="../markers.html">
                                        <i class="icon-list-alt"></i>&#160;Markers
                                    </a>
                                </li>
                                <li>
                                    <a href="../deprecated.html">
                                        <i class="icon-list-alt"></i>&#160;Deprecated
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="go_to_top">
            <a href="#___" style="color: inherit">Back to top&#160;&#160;<i class="icon-upload icon-white"></i></a>
        </div>
    </div>
    
    <div id="___" class="container">
        <noscript>
            <div class="alert alert-warning">
                Javascript is disabled; several features are only available if Javascript is enabled.
            </div>
        </noscript>

        
            <style>
        .deprecated h2 {
            text-decoration: line-through;
        }
    </style>
    <div class="row">
        <div class="span4">
                    <div class="btn-group view pull-right" data-toggle="buttons-radio">
        <button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button>
        <button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
    </div>
    <div class="btn-group visibility" data-toggle="buttons-checkbox">
        <button class="btn public active" title="Show public elements">Public</button>
        <button class="btn protected" title="Show protected elements">Protected</button>
        <button class="btn private" title="Show private elements">Private</button>
        <button class="btn inherited active" title="Show inherited elements">Inherited</button>
    </div>

        <ul class="side-nav nav nav-list">
        <li class="nav-header">
            <i class="icon-custom icon-method"></i> Methods
            <ul>
                                                                                                    <li class="method public">
        <a href="#method___construct" title="__construct :: Constructor for the new FedoraApiM object.">
            <span class="description">Constructor for the new FedoraApiM object.</span><pre>__construct</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_addDatastream" title="addDatastream :: Add a new datastream to a fedora object.">
            <span class="description">Add a new datastream to a fedora object.</span><pre>addDatastream</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_addRelationship" title="addRelationship :: Add a RDF relationship to a Fedora object.">
            <span class="description">Add a RDF relationship to a Fedora object.</span><pre>addRelationship</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_export" title="export :: Export a Fedora object with the given PID.">
            <span class="description">Export a Fedora object with the given PID.</span><pre>export</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_getDatastream" title="getDatastream :: Returns information about the datastream.">
            <span class="description">Returns information about the datastream.</span><pre>getDatastream</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_getDatastreamHistory" title="getDatastreamHistory :: Get information on the different datastream versions.">
            <span class="description">Get information on the different datastream versions.</span><pre>getDatastreamHistory</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_getNextPid" title="getNextPid :: Get a new unused PID.">
            <span class="description">Get a new unused PID.</span><pre>getNextPid</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_getObjectXml" title="getObjectXml :: Get the Fedora Objects XML (Foxml).">
            <span class="description">Get the Fedora Objects XML (Foxml).</span><pre>getObjectXml</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_getRelationships" title="getRelationships :: Query relationships for a particular fedora object.">
            <span class="description">Query relationships for a particular fedora object.</span><pre>getRelationships</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_ingest" title="ingest :: Create a new object in Fedora.">
            <span class="description">Create a new object in Fedora.</span><pre>ingest</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_modifyDatastream" title="modifyDatastream :: Update a datastream&#039;s metadata, contents, or both.">
            <span class="description">Update a datastream&#039;s metadata, contents, or both.</span><pre>modifyDatastream</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_modifyObject" title="modifyObject :: Update Fedora Object parameters.">
            <span class="description">Update Fedora Object parameters.</span><pre>modifyObject</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_purgeDatastream" title="purgeDatastream :: Permanently removes a datastream and all its associated data.">
            <span class="description">Permanently removes a datastream and all its associated data.</span><pre>purgeDatastream</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_purgeObject" title="purgeObject :: Purge an object.">
            <span class="description">Purge an object.</span><pre>purgeObject</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_upload" title="upload :: Uploads file.">
            <span class="description">Uploads file.</span><pre>upload</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_validate" title="validate :: Validate an object.">
            <span class="description">Validate an object.</span><pre>validate</pre>
        </a>
    </li>

                                                </ul>
        </li>
        <li class="nav-header protected">» Protected
            <ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
        </li>
        <li class="nav-header private">» Private
            <ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
        </li>
        <li class="nav-header">
            <i class="icon-custom icon-constant"></i> Constants
            <ul>
                            </ul>
        </li>
    </ul>


        </div>

        <div class="span8">
            <div class="element class">
                <h1>FedoraApiM</h1>
                <small style="display: block; text-align: right">
                                                        </small>
                <p class="short_description">This class implements the Fedora API-M interface. This is a light wrapper
around the Fedora interface. Very little attempt is put into putting things
into native PHP datastructures.</p>
                <div class="details">
                    <div class="long_description">
                        <p>See this page for more information:
<a href="https://wiki.duraspace.org/display/FEDORA35/REST+API">https://wiki.duraspace.org/display/FEDORA35/REST+API</a></p>
                    </div>
                    <table class="table table-bordered">
                                                                                    <tr>
                                    <th>
                                        package
                                                                            </th>
                                    <td>
                                                                                    
                                                                                <p>Default</p>
                                    </td>
                                </tr>
                                                                                                                                                                                </table>

                    <h3><i class="icon-custom icon-method"></i> Methods</h3>
                                                                <a id="method___construct"></a>
                        <div class="element clickable method public  method___construct" data-toggle="collapse" data-target=".method___construct .collapse">
                            <h2>Constructor for the new FedoraApiM object.</h2>
                            <pre>__construct(\RepositoryConnection $connection, \FedoraApiSerializer $serializer) </pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    
                                                </th>
                                                <td>
                                                                                                    </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$connection</h4>
                                                <code><a href="../classes/RepositoryConnection.html">\RepositoryConnection</a></code><p><p>Takes the Respository Connection object for the Respository this API
should connect to.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$serializer</h4>
                                                <code><a href="../classes/FedoraApiSerializer.html">\FedoraApiSerializer</a></code><p><p>Takes the serializer object to that will be used to serialze the XML
Fedora returns.</p></p>
                                            </div>
                                                                            
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_addDatastream"></a>
                        <div class="element clickable method public  method_addDatastream" data-toggle="collapse" data-target=".method_addDatastream .collapse">
                            <h2>Add a new datastream to a fedora object.</h2>
                            <pre>addDatastream(string $pid, string $dsid, string $type, string $file, \array() $params) : \array()</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"><p>The datastreams are sent to Fedora using a multipart post if a string
or file is provided otherwise Fedora will go out and fetch the URL</p></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    throws
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                        
                                                                                                    </td>
                                            </tr>
                                                                                    <tr>
                                                <th>
                                                    see
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                            \FedoraApiM::getDatastream
                                                                                                                
                                                                                                    </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$pid</h4>
                                                <code>string</code><p><p>Persistent identifier of the digital object.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$dsid</h4>
                                                <code>string</code><p><p>Datastream identifier.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$type</h4>
                                                <code>string</code><p><p>This parameter tells the function what type of arguement is given for
file. It must be one of:</p>
<ul>
<li>string: The datastream is passed as a string.</li>
<li>file: The datastream is contained in a file.</li>
<li>url: The datastream is located at a URL, which is passed as a string.
this is the only option that can be used for R and E type datastreams.</li>
</ul></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$file</h4>
                                                <code>string</code><p><p>This parameter depends on what is selected for $type.</p>
<ul>
<li>string: A string containing the datastream.</li>
<li>file: A string containing the file name that contains the datastream.
The file name must be a full path.</li>
<li>url: A string containing the publically accessable URL that the
datastream is located at.</li>
</ul></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$params</h4>
                                                <code>\array()</code><p><p>(optional) An array that can have one or more of the following elements:</p>
<ul>
<li>controlGroup: one of &quot;X&quot;, &quot;M&quot;, &quot;R&quot;, or &quot;E&quot; (Inline <em>X</em>ML, <em>M</em>anaged
Content, <em>R</em>edirect, or <em>E</em>xternal Referenced). Default: X.</li>
<li>altIDs: alternate identifiers for the datastream. A space seperated
list of alternate identifiers for the datastream.</li>
<li>dsLabel: the label for the datastream.</li>
<li>versionable: enable versioning of the datastream (boolean).</li>
<li>dsState: one of &quot;A&quot;, &quot;I&quot;, &quot;D&quot; (<em>A</em>ctive, <em>I</em>nactive, <em>D</em>eleted).</li>
<li>formatURI: the format URI of the datastream.</li>
<li>checksumType: the algorithm used to compute the checksum. One of
DEFAULT, DISABLED, MD5, SHA-1, SHA-256, SHA-384, SHA-512.</li>
<li>checksum: the value of the checksum represented as a hexadecimal
string.</li>
<li>mimeType: the MIME type of the content being added, this overrides the
Content-Type request header.</li>
<li>logMessage: a message describing the activity being performed.</li>
</ul></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>\array()</code><p><p>Returns an array describing the new datastream. This is the same array
returned by getDatastream. This may also contain an dsAltID key, that
contains any alternate ids if any are specified.
@code
Array
(
[dsLabel] =&gt;
[dsVersionID] =&gt; test.3
[dsCreateDate] =&gt; 2012-03-07T18:03:38.679Z
[dsState] =&gt; A
[dsMIME] =&gt; text/xml
[dsFormatURI] =&gt;
[dsControlGroup] =&gt; M
[dsSize] =&gt; 22
[dsVersionable] =&gt; true
[dsInfoType] =&gt;
[dsLocation] =&gt; islandora:strict_pdf+test+test.3
[dsLocationType] =&gt; INTERNAL_ID
[dsChecksumType] =&gt; DISABLED
[dsChecksum] =&gt; none
[dsLogMessage] =&gt;
)
@endcode</p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_addRelationship"></a>
                        <div class="element clickable method public  method_addRelationship" data-toggle="collapse" data-target=".method_addRelationship .collapse">
                            <h2>Add a RDF relationship to a Fedora object.</h2>
                            <pre>addRelationship(string $pid, array $relationship, boolean $is_literal, string $datatype = NULL) </pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    throws
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                        
                                                                                                    </td>
                                            </tr>
                                                                                    <tr>
                                                <th>
                                                    see
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                            \FedoraApiM::getRelationships
                                                                                                                
                                                                                                                                                                        
                                                                                                                                                                            \FedoraApiM::purgeRelationships
                                                                                                                
                                                                                                    </td>
                                            </tr>
                                                                                    <tr>
                                                <th>
                                                    
                                                </th>
                                                <td>
                                                                                                    </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$pid</h4>
                                                <code>string</code><p><p>Persistent identifier of the digital object.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$relationship</h4>
                                                <code>array</code><p><p>An array containing the subject, predicate and object for the
relationship.</p>
<ul>
<li>subject: (optional) Subject of the relationship. Either a URI for the
object or one of its datastreams. If none is given then the URI for
the current object is used.</li>
<li>predicate: Predicate of the relationship.</li>
<li>object: Object of the relationship.</li>
</ul></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$is_literal</h4>
                                                <code>boolean</code><p><p>true if the object of the relationship is a literal, false if it is a URI</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$datatype</h4>
                                                <code>string</code><p><p>(optional) if the object is a literal, the datatype of the literal.</p></p>
                                            </div>
                                                                            
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_export"></a>
                        <div class="element clickable method public  method_export" data-toggle="collapse" data-target=".method_export .collapse">
                            <h2>Export a Fedora object with the given PID.</h2>
                            <pre>export(string $pid, array $params = array()) : string</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    throws
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                        
                                                                                                    </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$pid</h4>
                                                <code>string</code><p><p>Persistent identifier of the digital object.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$params</h4>
                                                <code>array</code><p><p>(optional) An array that can have one or more of the following elements:</p>
<ul>
<li>format: The XML format to export. One of
info:fedora/fedora-system:FOXML-1.1 (default),
info:fedora/fedora-system:FOXML-1.0,
info:fedora/fedora-system:METSFedoraExt-1.1,
info:fedora/fedora-system:METSFedoraExt-1.0,
info:fedora/fedora-system:ATOM-1.1,
info:fedora/fedora-system:ATOMZip-1.1</li>
<li>context: The export context, which determines how datastream URLs and
content are represented. Options: public (default), migrate, archive.</li>
<li>encoding: The preferred encoding of the exported XML.</li>
</ul></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>string</code><p><p>A string containing the requested XML.</p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getDatastream"></a>
                        <div class="element clickable method public  method_getDatastream" data-toggle="collapse" data-target=".method_getDatastream .collapse">
                            <h2>Returns information about the datastream.</h2>
                            <pre>getDatastream(string $pid, string $dsid, array $params = array()) : \array()</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    throws
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                        
                                                                                                    </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$pid</h4>
                                                <code>string</code><p><p>Persistent identifier of the digital object.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$dsid</h4>
                                                <code>string</code><p><p>Datastream identifier.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$params</h4>
                                                <code>array</code><p><p>(optional) An array that can have one or more of the following elements:</p>
<ul>
<li>asOfDateTime: Indicates that the result should be relative to the
digital object as it existed on the given date.</li>
<li>validateChecksum: verifies that the Datastream content has not changed
since the checksum was initially computed.</li>
</ul></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>\array()</code><p><p>An array containing information about the datastream. This may also
contains a key dsAltID which contains alternate ids if any are specified.
@code
Array
(
[dsLabel] =&gt;
[dsVersionID] =&gt; test.3
[dsCreateDate] =&gt; 2012-03-07T18:03:38.679Z
[dsState] =&gt; A
[dsMIME] =&gt; text/xml
[dsFormatURI] =&gt;
[dsControlGroup] =&gt; M
[dsSize] =&gt; 22
[dsVersionable] =&gt; true
[dsInfoType] =&gt;
[dsLocation] =&gt; islandora:strict_pdf+test+test.3
[dsLocationType] =&gt; INTERNAL_ID
[dsChecksumType] =&gt; DISABLED
[dsChecksum] =&gt; none
[dsChecksumValid] =&gt; true
)
@endcode</p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getDatastreamHistory"></a>
                        <div class="element clickable method public  method_getDatastreamHistory" data-toggle="collapse" data-target=".method_getDatastreamHistory .collapse">
                            <h2>Get information on the different datastream versions.</h2>
                            <pre>getDatastreamHistory(string $pid, string $dsid) : array</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    throws
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                        
                                                                                                    </td>
                                            </tr>
                                                                                    <tr>
                                                <th>
                                                    see
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                            \FedoraApiM::getDatastream
                                                                                                                
                                                                                                    </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$pid</h4>
                                                <code>string</code><p><p>Persistent identifier of the digital object.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$dsid</h4>
                                                <code>string</code><p><p>Datastream identifier.</p></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>array</code><p><p>Returns a indexed array with the same keys as getDatastream.
@code
Array
(
[0] =&gt; Array
(
[dsLabel] =&gt;
[dsVersionID] =&gt; test.3
[dsCreateDate] =&gt; 2012-03-07T18:03:38.679Z
[dsState] =&gt; A
[dsMIME] =&gt; text/xml
[dsFormatURI] =&gt;
[dsControlGroup] =&gt; M
[dsSize] =&gt; 22
[dsVersionable] =&gt; true
[dsInfoType] =&gt;
[dsLocation] =&gt; islandora:strict_pdf+test+test.3
[dsLocationType] =&gt; INTERNAL_ID
[dsChecksumType] =&gt; DISABLED
[dsChecksum] =&gt; none
)</p>
<pre><code>  [1] =&gt; Array
      (
          [dsLabel] =&gt;
          [dsVersionID] =&gt; test.2
          [dsCreateDate] =&gt; 2012-03-07T18:03:13.722Z
          [dsState] =&gt; A
          [dsMIME] =&gt; text/xml
          [dsFormatURI] =&gt;
          [dsControlGroup] =&gt; M
          [dsSize] =&gt; 22
          [dsVersionable] =&gt; true
          [dsInfoType] =&gt;
          [dsLocation] =&gt; islandora:strict_pdf+test+test.2
          [dsLocationType] =&gt; INTERNAL_ID
          [dsChecksumType] =&gt; DISABLED
          [dsChecksum] =&gt; none
      )</code></pre>
<p>)
@endcode</p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getNextPid"></a>
                        <div class="element clickable method public  method_getNextPid" data-toggle="collapse" data-target=".method_getNextPid .collapse">
                            <h2>Get a new unused PID.</h2>
                            <pre>getNextPid(string $namespace = NULL, integer $numpids = NULL) : \array/string</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    throws
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                        
                                                                                                    </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$namespace</h4>
                                                <code>string</code><p><p>The namespace to get the PID in. This defaults to default namespace of
the repository. This should not contain the PID seperator, for example
it should be islandora not islandora:.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$numpids</h4>
                                                <code>integer</code><p><p>The number of pids being requested.</p></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>\array/string</code><p><p>If one pid is requested it is returned as a string. If multiple pids are
requested they they are returned in an array containg strings.
@code
Array
(
[0] =&gt; test:7
[1] =&gt; test:8
)
@endcode</p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getObjectXml"></a>
                        <div class="element clickable method public  method_getObjectXml" data-toggle="collapse" data-target=".method_getObjectXml .collapse">
                            <h2>Get the Fedora Objects XML (Foxml).</h2>
                            <pre>getObjectXml(string $pid) : string</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    throws
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                        
                                                                                                    </td>
                                            </tr>
                                                                                    <tr>
                                                <th>
                                                    see
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                            \FedoraApiM::export
                                                                                                                
                                                                                                    </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$pid</h4>
                                                <code>string</code><p><p>Persistent identifier of the digital object.</p></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>string</code><p><p>A string containing the objects foxml</p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getRelationships"></a>
                        <div class="element clickable method public  method_getRelationships" data-toggle="collapse" data-target=".method_getRelationships .collapse">
                            <h2>Query relationships for a particular fedora object.</h2>
                            <pre>getRelationships(string $pid, array $relationship = array()) : array</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    throws
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                        
                                                                                                    </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$pid</h4>
                                                <code>string</code><p><p>Persistent identifier of the digital object.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$relationship</h4>
                                                <code>array</code><p><p>(Optional) An array defining the relationship:</p>
<ul>
<li>subject: subject of the relationship(s). Either a URI for the object
or one of its datastreams. defaults to the URI of the object.</li>
<li>predicate: predicate of the relationship(s), if missing returns all
predicates.</li>
</ul></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>array</code><p><p>An indexed array with all the relationships.
@code
Array
(
[0] =&gt; Array
(
[subject] =&gt; islandora:strict_pdf
[predicate] =&gt; Array
(
[predicate] =&gt; hasModel
[uri] =&gt; info:fedora/fedora-system:def/model#
[alias] =&gt;
)</p>
<pre><code>          [object] =&gt; Array
              (
                  [literal] =&gt; FALSE
                  [value] =&gt; fedora-system:FedoraObject-3.0
              )

      )

  [1] =&gt; Array
      (
          [subject] =&gt; islandora:strict_pdf
          [predicate] =&gt; Array
              (
                  [predicate] =&gt; bar
                  [uri] =&gt; http://woot/foo#
                  [alias] =&gt;
              )

          [object] =&gt; Array
              (
                  [literal] =&gt; TRUE
                  [value] =&gt; thedude
              )

      )</code></pre>
<p>)
@endcode</p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_ingest"></a>
                        <div class="element clickable method public  method_ingest" data-toggle="collapse" data-target=".method_ingest .collapse">
                            <h2>Create a new object in Fedora.</h2>
                            <pre>ingest(array $params = array()) : string</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"><p>This could be ingesting a XML file as a
string or a file. Executing this request with no XML file content will
result in the creation of a new, empty object (with either the specified
PID or a system-assigned PID). The new object will contain only a minimal
DC datastream specifying the dc:identifier of the object.</p></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    throws
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                        
                                                                                                    </td>
                                            </tr>
                                                                                    <tr>
                                                <th>
                                                    todo
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                        <p>This function is a problem in Fedora &lt; 3.5 where ownerId does not
properly get set. <a href="https://jira.duraspace.org/browse/FCREPO-963">https://jira.duraspace.org/browse/FCREPO-963</a>. We should
deal with this.</p>
                                                                                                    </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$params</h4>
                                                <code>array</code><p><p>(optional) An array that can have one or more of the following elements:</p>
<ul>
<li>pid: persistent identifier of the object to be created. If this is not
supplied then either a new PID will be created for this object or the
PID to be used is encoded in the XML included as the body of the
request</li>
<li>string: The XML file defining the new object as a string</li>
<li>file: The XML file defining the new object as a string containing the
full path to the XML file. This must not be used with the string
parameter</li>
<li>label: the label of the new object</li>
<li>format: the XML format of the object to be ingested. One of
info:fedora/fedora-system:FOXML-1.1,
info:fedora/fedora-system:FOXML-1.0,
info:fedora/fedora-system:METSFedoraExt-1.1,
info:fedora/fedora-system:METSFedoraExt-1.0,
info:fedora/fedora-system:ATOM-1.1,
info:fedora/fedora-system:ATOMZip-1.1</li>
<li>encoding:   the encoding of the XML to be ingested.  If this is
specified, and given as anything other than UTF-8, you must ensure
that the same encoding is declared in the XML.</li>
<li>namespace: The namespace to be used to create a PID for a new empty
object: if a 'string' parameter is included with the request, the
namespace parameter is ignored.</li>
<li>ownerId: the id of the user to be listed at the object owner.</li>
<li>logMessage: a message describing the activity being performed.</li>
</ul></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>string</code><p><p>The PID of the newly created object.</p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_modifyDatastream"></a>
                        <div class="element clickable method public  method_modifyDatastream" data-toggle="collapse" data-target=".method_modifyDatastream .collapse">
                            <h2>Update a datastream&#039;s metadata, contents, or both.</h2>
                            <pre>modifyDatastream(string $pid, string $dsid, array $params = array()) : array</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    throws
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                        
                                                                                                    </td>
                                            </tr>
                                                                                    <tr>
                                                <th>
                                                    see
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                            \FedoraApiM::getDatastream
                                                                                                                
                                                                                                    </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$pid</h4>
                                                <code>string</code><p><p>Persistent identifier of the digital object.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$dsid</h4>
                                                <code>string</code><p><p>Datastream identifier.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$params</h4>
                                                <code>array</code><p><p>(optional) An array that can have one or more of the following elements:</p>
<ul>
<li>dsFile: String containing the full path to a file that will be used
as the new contents of the datastream.</li>
<li>dsString: String containing the new contents of the datastream.</li>
<li>dsLocation: String containing a URL to fetch the new datastream from.
Only ONE of dsFile, dsString or dsLocation should be used.</li>
<li>altIDs:     alternate identifiers for the datastream. This is a space
seperated string of alternate identifiers for the datastream.</li>
<li>dsLabel:    the label for the datastream.</li>
<li>versionable: enable versioning of the datastream.</li>
<li>dsState: one of &quot;A&quot;, &quot;I&quot;, &quot;D&quot; (<em>A</em>ctive, <em>I</em>nactive, <em>D</em>eleted)</li>
<li>formatURI: the format URI of the datastream</li>
<li>checksumType: the algorithm used to compute the checksum. This has to
be one of: DEFAULT, DISABLED, MD5, SHA-1, SHA-256, SHA-384, SHA-512.
If this parameter is given and no checksum is given the checksum will
be computed.</li>
<li>checksum:   the value of the checksum represented as a hexadecimal
string. This checksum must be computed by the algorithm defined above.</li>
<li>mimeType:   the MIME type of the content being added, this overrides
the Content-Type request header.</li>
<li>logMessage: a message describing the activity being performed</li>
<li>lastModifiedDate:   date/time of the last (known) modification to the
datastream, if the actual last modified date is later, a 409 response
is returned. This can be used for opportunistic object locking.</li>
</ul></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>array</code><p><p>An array contianing information about the updated datastream. This array
is the same as the array returned by getDatastream.</p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_modifyObject"></a>
                        <div class="element clickable method public  method_modifyObject" data-toggle="collapse" data-target=".method_modifyObject .collapse">
                            <h2>Update Fedora Object parameters.</h2>
                            <pre>modifyObject(string $pid, array $params = NULL) : string</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    throws
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                        
                                                                                                    </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$pid</h4>
                                                <code>string</code><p><p>Persistent identifier of the digital object.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$params</h4>
                                                <code>array</code><p><p>(optional) An array that can have one or more of the following elements:</p>
<ul>
<li>label: object label.</li>
<li>ownerId: the id of the user to be listed at the object owner.</li>
<li>state: the new object state - <em>A</em>ctive, <em>I</em>nactive, or <em>D</em>eleted.</li>
<li>logMessage: a message describing the activity being performed.</li>
<li>lastModifiedDate: date/time of the last (known) modification to the
datastream, if the actual last modified date is later, a 409 response
is returned. This can be used for opportunistic object locking.</li>
</ul></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>string</code><p><p>A string containg the timestamp of the object modification.</p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_purgeDatastream"></a>
                        <div class="element clickable method public  method_purgeDatastream" data-toggle="collapse" data-target=".method_purgeDatastream .collapse">
                            <h2>Permanently removes a datastream and all its associated data.</h2>
                            <pre>purgeDatastream(string $pid, string $dsid, array $params = array()) : array</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    throws
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                        
                                                                                                    </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$pid</h4>
                                                <code>string</code><p><p>Persistent identifier of the digital object.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$dsid</h4>
                                                <code>string</code><p><p>Datastream identifier</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$params</h4>
                                                <code>array</code><p><p>(optional) An array that can have one or more of the following elements:</p>
<ul>
<li>startDT: the (inclusive) start date-time stamp of the range. If not
specified, this is taken to be the lowest possible value, and thus,
the entire version history up to the endDT will be purged.</li>
<li>endDT: the (inclusive) ending date-time stamp of the range. If not
specified, this is taken to be the greatest possible value, and thus,
the entire version history back to the startDT will be purged.</li>
<li>logMessage: a message describing the activity being performed.</li>
</ul></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>array</code><p><p>An array containing the timestamps of the datastreams that were removed.
@code
Array
(
[0] =&gt; 2012-03-08T18:44:15.214Z
[1] =&gt; 2012-03-08T18:44:15.336Z
)
@endcode</p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_purgeObject"></a>
                        <div class="element clickable method public  method_purgeObject" data-toggle="collapse" data-target=".method_purgeObject .collapse">
                            <h2>Purge an object.</h2>
                            <pre>purgeObject(string $pid, string $log_message = NULL) : string</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    throws
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                        
                                                                                                    </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$pid</h4>
                                                <code>string</code><p><p>Persistent identifier of the digital object.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$log_message</h4>
                                                <code>string</code><p><p>(optional)  A message describing the activity being performed.</p></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>string</code><p><p>Timestamp when object was deleted.</p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_upload"></a>
                        <div class="element clickable method public  method_upload" data-toggle="collapse" data-target=".method_upload .collapse">
                            <h2>Uploads file.</h2>
                            <pre>upload(string $file) : string</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$file</h4>
                                                <code>string</code><p><p>Path to uploaded file on server</p></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>string</code><p><p>url to uploaded file</p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_validate"></a>
                        <div class="element clickable method public  method_validate" data-toggle="collapse" data-target=".method_validate .collapse">
                            <h2>Validate an object.</h2>
                            <pre>validate(string $pid, array $as_of_date_time = NULL) : array</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    throws
                                                </th>
                                                <td>
                                                                                                                                                                        
                                                                                                                                                                        
                                                                                                    </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$pid</h4>
                                                <code>string</code><p><p>Persistent identifier of the digital object.</p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$as_of_date_time</h4>
                                                <code>array</code><p><p>(optional) Indicates that the result should be relative to the
digital object as it existed at the given date and time. Defaults to
the most recent version.</p></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>array</code><p><p>An array containing the validation results.
@code
Array
(
[valid] =&gt; false
[contentModels] =&gt; Array
(
[0] =&gt; &quot;info:fedora/fedora-system:FedoraObject-3.0&quot;
)
[problems] =&gt; Array
(
[0] =&gt; &quot;Problem description&quot;
)
[datastreamProblems] =&gt; Array
(
[dsid] =&gt; Array
(
[0] =&gt; &quot;Problem description&quot;
)
)
)
@endcode</p></p>
                                                                    </div>
                            </div>

                        </div>
                    
                    
                                                        </div>
            </div>
            <a id="\FedoraApiM"></a>
            <ul class="breadcrumb">
                <li><a href="../index.html"><i class="icon-custom icon-class"></i></a></li>
                    
    
    <li><span class="divider">\</span><a href="../namespaces/default.html">\</a></li>

                <li class="active"><span class="divider">\</span><a href="../classes/FedoraApiM.html">FedoraApiM</a></li>
            </ul>
        </div>
    </div>

    </div>

        <footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by
            <a href="http://glyphicons.com/">Glyphicons</a>.<br/>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor </a> and<br/>
            generated on Thu, 22 Oct 2015 11:06:12 -0400.<br/>
    </footer>
    </body>
</html>
